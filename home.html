<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Sistema de Cadastro e Trabalhos</title>
    <link rel="stylesheet" href="styles/main.css" />
  </head>
  <body>
    <header class="site-header">
      <img
        src="https://i.ibb.co/fGrgrb7r/ancora-baba-fe.jpg"
        alt="Logo CEUNSC"
        class="logo"
      />
      <h1 class="site-title">Cadastro de Consulentes e Trabalhos</h1>
    </header>

    <!-- menu de abas -->
    <div id="menu_opt"></div>

    <!-- aba Cadastro -->
    <section id="cadastro-section">
      <div class="card">
        <h2>Cadastro</h2>
        <div class="input-container-title">
          <input type="text" id="cadastro-nome" placeholder=" " required />
          <label for="cadastro-nome">Nome*</label>
        </div>
        <div class="input-container-title">
          <input type="text" id="cadastro-telefone" placeholder=" " required />
          <label for="cadastro-telefone">Telefone*</label>
        </div>
        <button id="btn-cadastrar">Cadastrar</button>
        <div id="cadastro-message" class="message"></div>
      </div>
    </section>

    <!-- container de registro de trabalhos-->
    <section id="trabalhos-section">
      <div class="card">
        <h2>Trabalhos</h2>
        <div class="input-container-title">
          <input type="text" id="trabalhos-nome" placeholder=" " required />
          <label for="trabalhos-nome">Nome*</label>
        </div>
        <div class="input-container-title">
          <input type="text" id="trabalhos-telefone" placeholder=" " required />
          <label for="trabalhos-telefone">Telefone*</label>
        </div>
        <div class="trabalho-data-container">
          <label for="trabalhos-data">Data da Consulta</label>
          <input
            type="date"
            id="trabalhos-data"
            min="1900-01-01"
            max="9999-12-31"
          />
        </div>

        <!-- Dropdown Principal -->
        <div class="dropdown" id="dropdown-trabalhos">
          <button
            type="button"
            class="dropbtn"
            id="dropbtn-trabalhos"
            aria-expanded="false"
          >
            Selecione Trabalhos
          </button>
          <div class="dropdown-content">
            <label
              ><input type="checkbox" value="Descarrego Dandalunda" />
              Descarrego Dandalunda</label
            >
            <label
              ><input type="checkbox" value="Descarrego" /> Descarrego</label
            >
            <label
              ><input type="checkbox" value="Sacudimento" /> Sacudimento</label
            >
            <label
              ><input
                type="checkbox"
                id="checkbox-fogo"
                value="Saída de Fogo"
              />
              Saída de Fogo</label
            >
            <label
              ><input type="checkbox" value="Limpeza de flor de omolu" />
              Limpeza de flor de omolu</label
            >
            <label
              ><input type="checkbox" id="checkbox-cura" value="Cura" />
              Cura</label
            >
            <label
              ><input type="checkbox" id="checkbox-ebo" value="Ebó" />
              Ebó</label
            >
          </div>
        </div>

        <!-- Sub-Dropdown Saída de Fogo -->
        <div class="dropdown sub-dropdown hide" id="dropdown-fogo">
          <button
            type="button"
            class="dropbtn"
            id="dropbtn-fogo"
            aria-expanded="false"
          >
            Selecione Tipo de Saída de Fogo
          </button>
          <div class="dropdown-content">
            <label
              ><input type="checkbox" value="Fogo Exu Encruzilhada" /> Fogo Exu
              Encruzilhada</label
            >
            <label
              ><input type="checkbox" value="Fogo Exu Calunga" /> Fogo Exu
              Calunga</label
            >
            <label
              ><input type="checkbox" value="Fogo Pomba-gira Encruzilhada" />
              Fogo Pomba-gira Encruzilhada</label
            >
            <label
              ><input type="checkbox" value="Fogo Pomba-gira Calunga" /> Fogo
              Pomba-gira Calunga</label
            >
            <label><input type="checkbox" value="Fogo Ogum" /> Fogo Ogum</label>
            <label
              ><input type="checkbox" value="Fogo Xangô" /> Fogo Xangô</label
            >
            <label
              ><input type="checkbox" value="Fogo Oxossi" /> Fogo Oxossi</label
            >
            <label><input type="checkbox" value="Fogo Oxum" /> Fogo Oxum</label>
            <label><input type="checkbox" value="Fogo Nanã" /> Fogo Nanã</label>
            <label
              ><input type="checkbox" value="Fogo Iemanjá" /> Fogo
              Iemanjá</label
            >
            <label
              ><input type="checkbox" value="Fogo Iansã" /> Fogo Iansã</label
            >
            <label
              ><input type="checkbox" value="Fogo Ibeijada" /> Fogo
              Ibeijada</label
            >
            <label
              ><input type="checkbox" value="Fogo Preto Velho" /> Fogo Preto
              Velho</label
            >
            <label
              ><input type="checkbox" value="Fogo Círculo de Fogo" /> Fogo
              Círculo de Fogo</label
            >
            <label
              ><input type="checkbox" value="Fogo Círculo de Fogo Pequeno" />
              Fogo Círculo de Fogo Pequeno</label
            >
            <label
              ><input type="checkbox" value="Fogo Descarrego de Pé" /> Fogo
              Descarrego de Pé</label
            >
            <label
              ><input type="checkbox" value="Fogo Descarrego de Mão" /> Fogo
              Descarrego de Mão</label
            >
          </div>
        </div>

        <!-- Sub-Dropdown Cura (inicialmente oculto) -->
        <div class="dropdown sub-dropdown hide" id="dropdown-cura">
          <button
            type="button"
            class="dropbtn"
            id="dropbtn-cura"
            aria-expanded="false"
          >
            Selecione Tipo de Cura
          </button>
          <div class="dropdown-content">
            <label
              ><input type="checkbox" value="Cura Ori Protocolo 1" /> Cura Ori
              Protocolo 1</label
            >
            <label
              ><input type="checkbox" value="Cura Ori Protocolo 2" /> Cura Ori
              Protocolo 2</label
            >
            <label
              ><input type="checkbox" value="Cura Ori Protocolo 3" /> Cura Ori
              Protocolo 3</label
            >
            <label
              ><input type="checkbox" value="Cura Emoções Protocolo 1" /> Cura
              Emoções Protocolo 1</label
            >
            <label
              ><input type="checkbox" value="Cura Emoções Protocolo 2" /> Cura
              Emoções Protocolo 2</label
            >
            <label
              ><input type="checkbox" value="Cura Emoções Protocolo 3" /> Cura
              Emoções Protocolo 3</label
            >
            <label
              ><input type="checkbox" value="Cura Prosperidade Protocolo 1" />
              Cura Prosperidade Protocolo 1</label
            >
            <label
              ><input type="checkbox" value="Cura Prosperidade Protocolo 2" />
              Cura Prosperidade Protocolo 2</label
            >
            <label
              ><input type="checkbox" value="Cura Prosperidade Protocolo 3" />
              Cura Prosperidade Protocolo 3</label
            >
            <label
              ><input type="checkbox" value="Cura Saúde Protocolo 1" /> Cura
              Saúde Protocolo 1</label
            >
            <label
              ><input type="checkbox" value="Cura Saúde Protocolo 2" /> Cura
              Saúde Protocolo 2</label
            >
            <label
              ><input type="checkbox" value="Cura Saúde Protocolo 3" /> Cura
              Saúde Protocolo 3</label
            >
            <label
              ><input type="checkbox" value="Cura Vicío Protocolo 1" /> Cura
              Vicío Protocolo 1</label
            >
            <label
              ><input type="checkbox" value="Cura Vicío Protocolo 2" /> Cura
              Vicío Protocolo 2</label
            >
            <label
              ><input type="checkbox" value="Cura Vicío Protocolo 3" /> Cura
              Vicío Protocolo 3</label
            >
          </div>
        </div>

        <!-- Sub-Dropdown Ebó (inicialmente oculto) -->
        <div class="dropdown sub-dropdown hide" id="dropdown-ebo">
          <button
            type="button"
            class="dropbtn"
            id="dropbtn-ebo"
            aria-expanded="false"
          >
            Selecione Tipo de Ebó
          </button>
          <div class="dropdown-content">
            <label
              ><input type="checkbox" value="Ebó Exu Encruzilhada" /> Ebó Exu
              Encruzilhada</label
            >
            <label
              ><input type="checkbox" value="Ebó Exu Calunga" /> Ebó Exu
              Calunga</label
            >
            <label
              ><input type="checkbox" value="Ebó Pomba-gira Encruzilhada" /> Ebó
              Pomba-gira Encruzilhada</label
            >
            <label
              ><input type="checkbox" value="Ebó Pomba-gira Calunga" /> Ebó
              Pomba-gira Calunga</label
            >
            <label><input type="checkbox" value="Ebó Ogum" /> Ebó Ogum</label>
            <label><input type="checkbox" value="Ebó Xangô" /> Ebó Xangô</label>
            <label
              ><input type="checkbox" value="Ebó Oxossi" /> Ebó Oxossi</label
            >
            <label><input type="checkbox" value="Ebó Oxum" /> Ebó Oxum</label>
            <label><input type="checkbox" value="Ebó Nanã" /> Ebó Nanã</label>
            <label
              ><input type="checkbox" value="Ebó Iemanjá" /> Ebó Iemanjá</label
            >
            <label><input type="checkbox" value="Ebó Iansã" /> Ebó Iansã</label>
            <label
              ><input type="checkbox" value="Ebó Ibeijada" /> Ebó
              Ibeijada</label
            >
            <label
              ><input type="checkbox" value="Ebó Preto Velho" /> Ebó Preto
              Velho</label
            >
          </div>
        </div>

        <button id="btn-registrar">Registrar Trabalho</button>
      </div>
      <div id="trabalhos-message" class="message-trabalhos hide"></div>
    </section>

    <!-- Seção de Relatório de Trabalhos -->
    <section id="relatorio-section">
      <div class="card">
        <h2>Relatório de Trabalhos</h2>
        <h3>Selecione as datas da consulta</h3>
        <div class="data-container">
          <label for="relatorio-data">Data Inicial</label>
          <input
            type="date"
            id="relatorio-data"
            min="1900-01-01"
            max="9999-12-31"
          />
          <label for="relatorio-data-final">Data Final</label>
          <input
            type="date"
            id="relatorio-data-final"
            min="1900-01-01"
            max="9999-12-31"/>
          <label style="display: flex; align-items: center; gap: 10px; margin-top: 10px;">
            <input type="checkbox" id="checkbox-pegar-feitos" />
            Pegar feitos
          </label>
        </div>
        <button id="btn-buscar-relatorio">Buscar</button>
        <div id="relatorio-message" class="message"></div>
        <div id="relatorio-filtros" class="filtros-container"></div>
        <button id="btn-aplicar-filtros" class="btn-aplicar-filtros">
          Filtrar
        </button>
        <button id="btn-limpar-filtro" class="btn-limpar-filtros">
          Restaurar Filtros
        </button>
        <div id="relatorio-mensagem" class="mensagem"></div>
      </div>
    
      <div id="relatorio-tabela-container">
        <button id="btn-refresh" title="Atualizar dados">🔄</button>
        <table>
          <thead>
            <tr>
              <!-- EXISTENTES: -->
              <th>Data</th>
              <th>Consulente</th>
              <th>Telefone</th>
              <th>Descarrego</th>
              <th>Cura</th>
              <th>Sacudimento</th>
              <th>Ebó</th>
              <th>Limpeza de Flor de Omolu</th>
              <th>Saída de Fogo</th>
    
              <!-- Novas colunas de Feito e Não Compareceu -->
              <th>Feito</th>
              <th>Não Compareceu</th>
            </tr>
          </thead>
          <tbody>
            <!-- As linhas de dados serão geradas dinamicamente pelo JS -->
            <tr>
              <td>21/05/2025</td>
              <td>Teste</td>
              <td>13974057602</td>
              <td>Descarrego Dandalunda</td>
              <td>Cura Ori Protocolo 1, Cura Ori Protocolo 2, Cura Ori Protocolo 3</td>
              <td>Sim</td>
              <td>Ebó Exu Encruzilhada, Ebó Exu Calunga, Ebó Pomba-gira Encruzilhada</td>
              <td>Sim</td>
              <td>Fogo Exu Encruzilhada, Fogo Exu Calunga, Fogo Pomba-gira Encruzilhada</td>
              <td>Feito</td>
              
              <!-- Checkboxes de Feito e Não Compareceu -->
              <td><input type="checkbox" class="cb-feito" /></td>
              <td><input type="checkbox" class="cb-nao" /></td>
            </tr>
            <tr>
              <td>21/05/2025</td>
              <td>Ronaldo</td>
              <td>13974034811</td>
              <td>Descarrego</td>
              <td>Cura Ori Protocolo 3</td>
              <td>Não</td>
              <td>Não</td>
              <td>Não</td>
              
              <!-- Checkboxes de Feito e Não Compareceu -->
              <td><input type="checkbox" class="cb-feito" /></td>
              <td><input type="checkbox" class="cb-nao" /></td>
            </tr>
            <!-- Mais linhas serão geradas dinamicamente -->
          </tbody>
        </table>
      </div>
    </section>
    <!-- script de menu -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const menuContainer = document.getElementById("menu_opt");
        const tabs = [
          { label: "Cadastro", sectionId: "cadastro-section" },
          { label: "Registro Trabalhos", sectionId: "trabalhos-section" },
          { label: "Relatório Trabalhos", sectionId: "relatorio-section" },
        ];

        tabs.forEach((tab) => {
          const btn = document.createElement("button");
          btn.textContent = tab.label;
          btn.addEventListener("click", () => {
            menuContainer
              .querySelectorAll("button")
              .forEach((b) => b.classList.remove("active"));
            btn.classList.add("active");
            document
              .querySelectorAll("body > section")
              .forEach((sec) => (sec.style.display = "none"));
            document.getElementById(tab.sectionId).style.display = "block";
          });
          menuContainer.appendChild(btn);
        });

        menuContainer.style.visibility = "visible";
        menuContainer.querySelector("button").click();
      });
    </script>

    <!-- seus JS separados -->
    <script src="cadastro/cadastro.js"></script>
    <script src="trabalhos/registro.js"></script>
    <script src="trabalhos/consulta.js"></script>
  </body>
</html>
